{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/jayxin/Desktop/pro/final2/pages/game_ai/game_ai.vue?2005","webpack:///C:/Users/jayxin/Desktop/pro/final2/pages/game_ai/game_ai.vue?6c3e","webpack:///C:/Users/jayxin/Desktop/pro/final2/pages/game_ai/game_ai.vue?7daa","webpack:///C:/Users/jayxin/Desktop/pro/final2/pages/game_ai/game_ai.vue?22bd","uni-app:///pages/game_ai/game_ai.vue","webpack:///C:/Users/jayxin/Desktop/pro/final2/pages/game_ai/game_ai.vue?ff10","webpack:///C:/Users/jayxin/Desktop/pro/final2/pages/game_ai/game_ai.vue?954b"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","Dice","onLoad","data","currentRound","numList","currentPlayer","player1Score","player2Score","player1DiceValues","player2DiceValues","player1LockedDices","player2LockedDices","showMultiplierDialog","player1Multiplier","player2Multiplier","player1Multiplying","isComputerOpponent","isFlag","bureauNum","currentBureauNum","player1Type","player2Type","methods","rollDices","confirmLock1","countOccurrences","console","setMultiplier","computerPlay","rollDicesForComputer","autoLockDices","setMultiplierForComputer","uni","title","setTimeout","getDiceTypeAndScore","acc","icon","duration","updateLockStatus","updateDiceValue","navigateBack","judgeType","duplicatedElements","setForEach","setArr","score","resetDice","hideButton"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,gBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACa;;;AAGnE;AAC+K;AAC/K,gBAAgB,wLAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,+JAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAmpB,CAAgB,wqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCuCvqB;EACAC;IACAC;EACA;EACAC;IACA;MACA;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MAAA;MACA;MACA;QACA;QACA;UACA,4EACA;QACA;MACA;MACA;QACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;QAAA;MAAA;MACAC;MACA;IACA;IACA;IACAC;MACA;QACA;UACA;UACA;YACA;UACA;QACA;MAEA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;;MAEA;MACA;;MAEA;IACA;IACAC;MAAA;MACA;QACA,6EACA;MACA;MACA;MACA;MACA;QACA;QACA;MACA;MACA;MACA;IAEA;IACAC;MACA;QACA;MACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAC;MAAA;MACA;QACA;QACA;QACAC;UACAC;QACA;QACAC;UACA;QACA;QACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MAAA;MACAT;MACA;MACA;QACA;UACAU;QACA;UACAA;QACA;QACA;MACA;MACA;QACA;QACA;MACA;QACA;QACA;MACA;MACA;;MAEA;QACAF;UACAF;UACAA;YACAC;YACAI;UACA;UACA;QACA;QACA;MACA;MACA;QACAL;QACAA;UACAC;UACAI;UACAC;QACA;QACA;QACA;MACA;MACA;MACA;MACA;MACA;MACAN;MACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IAEA;IACA;IACA;IACA;IACA;IAEA;IACA;IACAO;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;MACAT;IACA;IACA;IACAU;MACA;MACA;MACA;MACA;QACA;UACA;UACAC;UACAA;UACAA;UACA;QACA;UACAA;UACA;QACA;UACAA;UACA;QACA;UACAA;UACAA;YAAA;UAAA;UACA;QACA;UACA;UACA;YACAA;YACAA;cAAA;YAAA,QACA;UACA;YACA;YACAA;YACAA;cAAA;YAAA,QACA;UACA;YACAA;YACAA;cAAA;YAAA;UACA;UACA;MAAA;MAGA;IAEA;IACA;IACAC;MACA;MACA;MAAA,2CACAC;QAAA;MAAA;QAAA;UAAA;UACA;YAAA;UAAA;UACA;YACAC;UACA;;UAEA;UACA;YACA;cACAH;YACA;cACAA;YACA;UACA;YACA;cACAA;YACA;cACAA;YACA;UACA;QAAA;QAnBA;UAAA;QAoBA;MAAA;QAAA;MAAA;QAAA;MAAA;MACA;QACAG;MACA;QACAA;MACA;QACAA;MACA;QACAA;MACA;MACAH;MACA;IACA;IACA;IACAI;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACtXA;AAAA;AAAA;AAAA;AAAy7B,CAAgB,m7BAAG,EAAC,C;;;;;;;;;;;ACA78B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/game_ai/game_ai.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/game_ai/game_ai.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./game_ai.vue?vue&type=template&id=5e198a32&\"\nvar renderjs\nimport script from \"./game_ai.vue?vue&type=script&lang=js&\"\nexport * from \"./game_ai.vue?vue&type=script&lang=js&\"\nimport style0 from \"./game_ai.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/game_ai/game_ai.vue\"\nexport default component.exports","export * from \"-!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./game_ai.vue?vue&type=template&id=5e198a32&\"","var components\ntry {\n  components = {\n    dice: function () {\n      return import(\n        /* webpackChunkName: \"components/dice/dice\" */ \"@/components/dice/dice.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./game_ai.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./game_ai.vue?vue&type=script&lang=js&\"","<template>\r\n\t\t<view class=\"container\">\r\n\t\t\t<view class=\"title\">人机对战</view>\r\n\t\t\t<view class=\"game-board\">\r\n\t\t\t\t<view class=\"player-dices left\">\r\n\t\t\t\t\t<dice v-for=\"n in numList\" :key=\"n\" :value=\"player1DiceValues[n-1]\"\r\n\t\t\t\t\t\t:locked=\"player1LockedDices[n-1]\" @locked=\"updateLockStatus(1, n, $event)\">\r\n\t\t\t\t\t</dice>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"player-dices right\">\r\n\t\t\t\t\t<dice v-for=\"n in numList\" :key=\"n\" :value=\"player2DiceValues[n-1]\"\r\n\t\t\t\t\t\t:locked=\"player2LockedDices[n-1]\">\r\n\t\t\t\t\t</dice>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"game-info\">\r\n\t\t\t\t<text>局数: {{ currentBureauNum }}/{{bureauNum}}</text>\r\n\t\t\t\t<text>当前轮数: {{ currentRound }}</text>\r\n\t\t\t\t<text>玩家得分: {{ player1Score }}</text>\r\n\t\t\t\t<text>机器得分: {{ player2Score }}</text>\r\n\t\t\t</view>\r\n\t\t\t<button v-if=\"currentPlayer === 1\" class=\"btn\" @click=\"rollDices\">玩家投掷骰子</button>\r\n\t\t\t<button v-if=\"currentPlayer === 1 && !showMultiplierDialog\" class=\"btn\"\r\n\t\t\t\t@click=\"confirmLock1\">玩家完成锁定</button>\r\n\t\t\t<button v-if=\"showMultiplierDialog && currentPlayer === 1\" @click=\"setMultiplier(0)\"\r\n\t\t\t\tclass=\"btn\">倍率 0</button>\r\n\t\t\t<button v-if=\"showMultiplierDialog && currentPlayer === 1\" @click=\"setMultiplier(1)\"\r\n\t\t\t\tclass=\"btn\">倍率 1</button>\r\n\t\t\t<button v-if=\"showMultiplierDialog && currentPlayer === 1\" @click=\"setMultiplier(2)\"\r\n\t\t\t\tclass=\"btn\">倍率 2</button>\r\n\t\t\t<button v-if=\"showMultiplierDialog && currentPlayer === 1\" @click=\"setMultiplier(3)\"\r\n\t\t\t\tclass=\"btn\">倍率 3</button>\r\n\t\t\t<button class=\"btn\" @click=\"navigateBack\">重新开始新的一局</button>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport Dice from '@/components/dice/dice.vue';\r\n\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tDice\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tif (option.bureauNum) {\r\n\t\t\t\tthis.bureauNum = +option.bureauNum\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcurrentRound: 1,\r\n\t\t\t\tnumList: [1, 2, 3, 4, 5],\r\n\t\t\t\tcurrentPlayer: 1,\r\n\t\t\t\tplayer1Score: 100,\r\n\t\t\t\tplayer2Score: 100,\r\n\t\t\t\tplayer1DiceValues: [1, 1, 1, 1, 1],\r\n\t\t\t\tplayer2DiceValues: [1, 1, 1, 1, 1],\r\n\t\t\t\tplayer1LockedDices: [false, false, false, false, false],\r\n\t\t\t\tplayer2LockedDices: [false, false, false, false, false],\r\n\t\t\t\tshowMultiplierDialog: false,\r\n\t\t\t\tplayer1Multiplier: 1,\r\n\t\t\t\tplayer2Multiplier: 1,\r\n\t\t\t\tplayer1Multiplying: [], // 倍率数组\r\n\t\t\t\tisComputerOpponent: true,\r\n\t\t\t\t// 判断是否投掷过 投掷后不允许再次投掷\r\n\t\t\t\tisFlag: false,\r\n\t\t\t\t// 局数  默认1局\r\n\t\t\t\tbureauNum: 2,\r\n\t\t\t\t// 当前局数\r\n\t\t\t\tcurrentBureauNum: 1,\r\n\t\t\t\t// 筛子类型 默认为0 \r\n\t\t\t\tplayer1Type: 0,\r\n\t\t\t\tplayer2Type: 0,\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\trollDices() {\r\n\t\t\t\tif (this.isFlag) return\r\n\t\t\t\tif (this.currentPlayer === 1) {\r\n\t\t\t\t\tthis.isFlag = true\r\n\t\t\t\t\tthis.player1DiceValues = this.player1DiceValues.map((value, index) => {\r\n\t\t\t\t\t\treturn this.player1LockedDices[index] ? value : Math.floor(Math.random() *\r\n\t\t\t\t\t\t\t6) + 1;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif (this.currentRound == 3) {\r\n\t\t\t\t\tthis.computerPlay()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tconfirmLock1() {\r\n\t\t\t\tif (this.currentRound == 3 || this.isFlag == false) return\r\n\t\t\t\tthis.showMultiplierDialog = true;\r\n\t\t\t},\r\n\t\t\tcountOccurrences(arr, val) {\r\n\t\t\t\tlet result = arr.reduce((acc, curr) => (curr === val ? acc + 1 : acc), 0);\r\n\t\t\t\tconsole.log(result, val);\r\n\t\t\t\treturn result\r\n\t\t\t},\r\n\t\t\t// 设置倍率\r\n\t\t\tsetMultiplier(value) {\r\n\t\t\t\tif (this.currentRound < 3) {\r\n\t\t\t\t\tif (value === 0 && this.player1Multiplying.length) {\r\n\t\t\t\t\t\t// 多个倍率0 只加1 [0,0]  倍率和为1\r\n\t\t\t\t\t\tif (!this.player1Multiplying.includes(value)) {\r\n\t\t\t\t\t\t\tthis.player1Multiplying.push(value)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else this.player1Multiplying.push(value)\r\n\r\n\t\t\t\t}\r\n\t\t\t\tthis.showMultiplierDialog = false;\r\n\t\t\t\tthis.computerPlay()\r\n\t\t\t\t// console.log(this.calculateScore(this.player1DiceValues));\r\n\t\t\t\t// const score = this.calculateScore(this.player1DiceValues);\r\n\t\t\t\t// this.player1Score += score * this.player1Multiplier;\r\n\t\t\t\t// if (this.isComputerOpponent) {\r\n\t\t\t\t// \tsetTimeout(() => this.computerPlay(), 1000);\r\n\t\t\t\t// } else {\r\n\t\t\t\t// \tthis.currentPlayer = 2;\r\n\t\t\t\t// \tthis.showMultiplierDialog = false;\r\n\t\t\t\t// }\r\n\t\t\t},\r\n\t\t\tcomputerPlay() {\r\n\t\t\t\tthis.rollDicesForComputer();\r\n\t\t\t\tthis.autoLockDices();\r\n\r\n\t\t\t\t// setTimeout(() => {\r\n\t\t\t\t// \t// const multiplier = this.autoChooseMultiplier();\r\n\r\n\t\t\t\t// }, 500);\r\n\t\t\t},\r\n\t\t\trollDicesForComputer() {\r\n\t\t\t\tthis.player2DiceValues = this.player2DiceValues.map((value, index) => {\r\n\t\t\t\t\treturn this.player2LockedDices[index] ? value : Math.floor(Math.random() *\r\n\t\t\t\t\t\t6) + 1;\r\n\t\t\t\t});\r\n\t\t\t\t// 人机结束后 可以进行第二轮投掷\r\n\t\t\t\tthis.isFlag = false\r\n\t\t\t\tif (this.currentRound == 3) {\r\n\t\t\t\t\tthis.setMultiplierForComputer();\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t// 人机结束后  当前轮次++\r\n\t\t\t\tthis.currentRound++\r\n\r\n\t\t\t},\r\n\t\t\tautoLockDices() {\r\n\t\t\t\tthis.player2LockedDices = this.player2DiceValues.map(value => {\r\n\t\t\t\t\treturn value > 4;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// autoChooseMultiplier() {\r\n\t\t\t// \tconst score = this.calculateScore(this.player2DiceValues);\r\n\t\t\t// \tif (score > 50) {\r\n\t\t\t// \t\treturn 3;\r\n\t\t\t// \t} else if (score > 30) {\r\n\t\t\t// \t\treturn 2;\r\n\t\t\t// \t} else if (score > 10) {\r\n\t\t\t// \t\treturn 1;\r\n\t\t\t// \t} else {\r\n\t\t\t// \t\treturn 0;\r\n\t\t\t// \t}\r\n\t\t\t// },\r\n\t\t\t// 判断轮次是否结束  结束后先计算分数后判断局数是否为最后一局\r\n\t\t\tsetMultiplierForComputer() {\r\n\t\t\t\tif (this.currentRound == 3) {\r\n\t\t\t\t\tlet player1 = this.judgeType(this.player1DiceValues)\r\n\t\t\t\t\tlet player2 = this.judgeType(this.player2DiceValues)\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: `第${this.currentBureauNum}局分数计算中，请稍后`\r\n\t\t\t\t\t})\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.getDiceTypeAndScore(player1, player2)\r\n\t\t\t\t\t}, 1000)\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t// this.player2Multiplier = value;\r\n\t\t\t\t// const score = this.calculateScore(this.player2DiceValues);\r\n\t\t\t\t// this.player2Score += score * this.player2Multiplier;\r\n\t\t\t\tthis.showMultiplierDialog = false;\r\n\t\t\t\tthis.currentPlayer = 1;\r\n\t\t\t\t// this.currentRound++;\r\n\t\t\t},\r\n\t\t\t// 获取骰子类型以及骰子点数 最后进行结算 1 玩家  2 人机\r\n\t\t\tgetDiceTypeAndScore(dice1Values, dice2Values) {\r\n\t\t\t\tconsole.log(dice1Values, dice2Values, 'dice1Values,dice2Values');\r\n\t\t\t\tlet differenceNum = dice1Values.score - dice2Values.score\r\n\t\t\t\tlet multiplying = this.player1Multiplying.reduce((acc, cur) => {\r\n\t\t\t\t\tif (cur === 0) {\r\n\t\t\t\t\t\tacc++\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tacc += cur\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn acc\r\n\t\t\t\t}, 0)\r\n\t\t\t\tif (differenceNum > 0) {\r\n\t\t\t\t\tthis.player1Score = this.player1Score + differenceNum * multiplying\r\n\t\t\t\t\tthis.player2Score = this.player2Score - differenceNum * multiplying\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.player1Score = this.player1Score + differenceNum * multiplying\r\n\t\t\t\t\tthis.player2Score = this.player2Score - differenceNum * multiplying\r\n\t\t\t\t}\r\n\t\t\t\t// this.resetDice()\r\n\r\n\t\t\t\tif (this.currentBureauNum == this.bureauNum) {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '对局已结束！',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthis.hideButton()\r\n\t\t\t\t\t}, 1000)\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (this.player1Score <= 0 || this.player2Score <= 0) {\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '玩家分数不足对局结束！',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.hideButton()\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.currentBureauNum++\r\n\t\t\t\tthis.currentRound = 1\r\n\t\t\t\tthis.showMultiplierDialog = false;\r\n\t\t\t\tthis.currentPlayer = 1;\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t\tthis.resetDice()\r\n\t\t\t},\r\n\t\t\t// calculateScore(diceValues) {\r\n\t\t\t// \tlet score = 0;\r\n\t\t\t// \tconst sortedDice = [...diceValues].sort();\r\n\t\t\t// \tconst uniqueDice = [...new Set(sortedDice)];\r\n\t\t\t// \tconsole.log('sortedDice', sortedDice);\r\n\t\t\t// \tconsole.log('uniqueDice', uniqueDice)\r\n\t\t\t// \tconst occurrences = uniqueDice.map(value => this.countOccurrences(sortedDice,\r\n\t\t\t// \t\tvalue));\r\n\t\t\t// \tconsole.log('occurrences', occurrences)\r\n\t\t\t// \tconst double = occurrences.filter(o => o === 2).length;\r\n\t\t\t// \tconst triple = occurrences.filter(o => o === 3).length;\r\n\t\t\t// \tconst quadruple = occurrences.includes(4);\r\n\t\t\t// \tconst quintuple = occurrences.includes(5);\r\n\r\n\t\t\t// \tif (quintuple) {\r\n\t\t\t// \t\treturn 100; // 五连\r\n\t\t\t// \t} else if (quadruple) {\r\n\t\t\t// \t\treturn 40; // 四连\r\n\t\t\t// \t} else if (triple && double) {\r\n\t\t\t// \t\treturn 20; // 葫芦\r\n\t\t\t// \t} else if (triple) {\r\n\t\t\t// \t\tscore += 10; // 三连\r\n\t\t\t// \t}\r\n\r\n\t\t\t// \tscore += double * 10; // 双对\r\n\r\n\t\t\t// \tif (sortedDice.join(',') === '1,2,3,4,5' || sortedDice.join(',') === '2,3,4,5,6') {\r\n\t\t\t// \t\tscore += 60; // 大顺子\r\n\t\t\t// \t} else if (uniqueDice.length === 5) {\r\n\t\t\t// \t\tscore += 30; // 小顺子\r\n\t\t\t// \t}\r\n\r\n\t\t\t// \treturn score;\r\n\t\t\t// },\r\n\t\t\tupdateLockStatus(player, diceIndex, status) {\r\n\t\t\t\tif (player === 1) {\r\n\t\t\t\t\tthis.$set(this.player1LockedDices, diceIndex - 1, status);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$set(this.player2LockedDices, diceIndex - 1, status);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tupdateDiceValue(player, diceIndex, value) {\r\n\t\t\t\tif (player === 1) {\r\n\t\t\t\t\tthis.player1DiceValues[diceIndex - 1] = value;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.player2DiceValues[diceIndex - 1] = value;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tnavigateBack() {\r\n\t\t\t\t// 你的返回逻辑\r\n\t\t\t\tuni.navigateBack();\r\n\t\t\t},\r\n\t\t\t// 判断骰子类型 1双对 2三连 3葫芦 4四连 5五连 6小顺 7大顺 \r\n\t\t\tjudgeType(current) {\r\n\t\t\t\tconst sortedDices = current.sort();\r\n\t\t\t\tconst uniqueDices = [...new Set(sortedDices)];\r\n\t\t\t\tlet duplicatedElements = {}\r\n\t\t\t\tswitch (uniqueDices.length) {\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t// 五连\r\n\t\t\t\t\t\tduplicatedElements[uniqueDices[0]] = 5\r\n\t\t\t\t\t\tduplicatedElements.type = 5\r\n\t\t\t\t\t\tduplicatedElements.score = uniqueDices[0] * 5 + 100\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tduplicatedElements = this.setForEach(uniqueDices, current, uniqueDices.length)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\tduplicatedElements = this.setForEach(uniqueDices, current, uniqueDices.length)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\tduplicatedElements.type = 0\r\n\t\t\t\t\t\tduplicatedElements.score = current.reduce((acc, cur) => acc + cur, 0)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 5:\r\n\t\t\t\t\t\t// 大顺子\r\n\t\t\t\t\t\tif (uniqueDices[uniqueDices.length - 1] - uniqueDices[0] == 4) {\r\n\t\t\t\t\t\t\tduplicatedElements.type = 7\r\n\t\t\t\t\t\t\tduplicatedElements.score = current.reduce((acc, cur) => acc + cur, 0) +\r\n\t\t\t\t\t\t\t\t60\r\n\t\t\t\t\t\t} else if (uniqueDices[uniqueDices.length - 2] - uniqueDices[0] == 3) {\r\n\t\t\t\t\t\t\t// 小顺子\r\n\t\t\t\t\t\t\tduplicatedElements.type = 6\r\n\t\t\t\t\t\t\tduplicatedElements.score = current.reduce((acc, cur) => acc + cur, 0) +\r\n\t\t\t\t\t\t\t\t30\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tduplicatedElements.type = 0\r\n\t\t\t\t\t\t\tduplicatedElements.score = current.reduce((acc, cur) => acc + cur, 0)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn duplicatedElements\r\n\r\n\t\t\t},\r\n\t\t\t// 骰子类型出现两对 三连 length 3   四连 葫芦 length 2\r\n\t\t\tsetForEach(setArr, current, length) {\r\n\t\t\t\tlet duplicatedElements = {}\r\n\t\t\t\tlet score = 0\r\n\t\t\t\tfor (const ele of setArr) {\r\n\t\t\t\t\tlet repetLength = current.filter(item => ele == item).length\r\n\t\t\t\t\tif (repetLength > 1) {\r\n\t\t\t\t\t\tscore += ele * repetLength\r\n\t\t\t\t\t} else score += ele\r\n\r\n\t\t\t\t\t// 判断类型  2 包括 葫芦和四连  3包括 三连和两对\r\n\t\t\t\t\tif (length == 2) {\r\n\t\t\t\t\t\tif (repetLength == 2) {\r\n\t\t\t\t\t\t\tduplicatedElements.type = 3\r\n\t\t\t\t\t\t} else if (repetLength == 4) {\r\n\t\t\t\t\t\t\tduplicatedElements.type = 4\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (length == 3) {\r\n\t\t\t\t\t\tif (repetLength == 3) {\r\n\t\t\t\t\t\t\tduplicatedElements.type = 2\r\n\t\t\t\t\t\t} else if (repetLength == 2) {\r\n\t\t\t\t\t\t\tduplicatedElements.type = 1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (duplicatedElements.type == 1) {\r\n\t\t\t\t\tscore += 10\r\n\t\t\t\t} else if (duplicatedElements.type == 2) {\r\n\t\t\t\t\tscore += 10\r\n\t\t\t\t} else if (duplicatedElements.type == 3) {\r\n\t\t\t\t\tscore += 20\r\n\t\t\t\t} else if (duplicatedElements.type == 4) {\r\n\t\t\t\t\tscore += 40\r\n\t\t\t\t}\r\n\t\t\t\tduplicatedElements.score = score\r\n\t\t\t\treturn duplicatedElements\r\n\t\t\t},\r\n\t\t\t// 重置骰子\r\n\t\t\tresetDice() {\r\n\t\t\t\tthis.player1DiceValues = [1, 1, 1, 1, 1]\r\n\t\t\t\tthis.player2DiceValues = [1, 1, 1, 1, 1]\r\n\t\t\t\tthis.player1LockedDices = [false, false, false, false, false, ]\r\n\t\t\t\tthis.player2LockedDices = [false, false, false, false, false, ]\r\n\t\t\t},\r\n\t\t\thideButton() {\r\n\t\t\t\tthis.currentPlayer = false\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n\r\n<style>\r\n\t.content-background{\r\n\t\twidth: 100%;\r\n\t\tposition: relative;\r\n\t}\r\n\t/* #ifdef H5 */\r\n\t.content-background{\r\n\t\theight: calc(100vh - 44px);\r\n\t}\r\n\t/* #endif */\r\n\t\r\n\t/* #ifdef MP-WEIXIN */\r\n\t.content-background{\r\n\t\theight: 100vh;\r\n\t}\r\n\t/* #endif */\r\n\t.backgroun-img{\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tright: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\t.container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tpadding: 20px;\r\n\t\tbackground-color: #f0f0f0;\r\n\t\t/* background-color: transparent; */\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.title {\r\n\t\tfont-size: 24px;\r\n\t\tmargin-bottom: 20px;\r\n\t}\r\n\r\n\t.game-board {\r\n\t\twidth: 100%;\r\n\t\theight: 300px;\r\n\t\tbackground-color: #fff;\r\n\t\tmargin-bottom: 20px;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.game-info {\r\n\t\tmargin-bottom: 20px;\r\n\t}\r\n\r\n\t.btn {\r\n\t\tmargin: 10px;\r\n\t\tpadding: 10px 20px;\r\n\t\tbackground-color: #4CAF50;\r\n\t\tcolor: white;\r\n\t\tborder: none;\r\n\t\tborder-radius: 5px;\r\n\t}\r\n\r\n\t.player-dices.left {\r\n\t\twidth: 50%;\r\n\t}\r\n\r\n\t.player-dices.right {\r\n\t\twidth: 50%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: flex-end;\r\n\t\talign-items: flex-end;\r\n\t}\r\n</style>","import mod from \"-!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./game_ai.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\programs\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./game_ai.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1697078196707\n      var cssReload = require(\"D:/programs/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}